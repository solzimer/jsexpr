{"version":3,"sources":["jsexpr.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","root","previous_jsexpr","jsexpr","window","expr","extend","RX","fneval","obj","key","eval","err","undefined","EVALS","itval","arr","split","forEach","v","valwalk","src","ops","path","Object","keys","newpath","k","parse","method","m","match","token","replace","trim","fn","Function","entry","tokens","JSON","stringify","list","idx","indexOf","substring","push","map","join","jsontokens","json","walk","op","value","reduce","input","hasOwn","prototype","hasOwnProperty","toStr","toString","isArray","Array","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","constructor","options","name","copy","copyIsArray","clone","target","arguments","deep"],"mappings":"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","file":"jsexpr.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n(function() {\n  var root = this\n  var previous_jsexpr = root.jsexpr;\n\tvar jsexpr = require('./index.js');\n\n\tif( typeof exports !== 'undefined' ) {\n    if( typeof module !== 'undefined' && module.exports ) {\n      exports = module.exports = jsexpr;\n    }\n    exports.jsexpr = jsexpr;\n  }\n\n\tif(typeof window !== 'undefined') {\n    window.jsexpr = jsexpr;\n  }\n\n}).call(this);\n\n},{\"./index.js\":2}],2:[function(require,module,exports){\n/*jshint esversion: 6 */\n\nconst expr = require('./lib/expression');\n\nmodule.exports = expr;\n\n},{\"./lib/expression\":3}],3:[function(require,module,exports){\nconst extend = require(\"extend\");\nconst RX = /\\$\\{[^\\}]+\\}/g;\n\nfunction fneval(obj, key) {\n\ttry {\n\t\treturn eval(\"this.\" + key);\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n}\n\nconst EVALS = {\n\titval(obj,key) {\n\t\tvar arr = key.split(\".\");\n\t\tarr.forEach(key=>{\n\t\t\tif(obj==null || obj==undefined) return;\n\t\t\telse obj = obj[key];\n\t\t});\n\n\t\tlet v = obj || undefined;\n\t\treturn v===undefined? \"\" : v;\n\t},\n\teval(obj,key) {\n\t\tlet v = fneval.call(obj,obj,key);\n\t\treturn v===undefined? \"\" : v;\n\t},\n\tvalwalk(src,ops,path) {\n\t\tif(!src) return src;\n\t\tObject.keys(src).forEach(k=>{\n\t\t\tlet newpath = `${path}${path?'.':''}${k}`;\n\t\t\tif(ops[newpath])\n\t\t\tsrc[k] = ops[newpath];\n\t\t\tif(typeof(src[k])==\"object\")\n\t\t\tEVALS.valwalk(src[k],ops,newpath);\n\t\t});\n\t\treturn src;\n\t}\n}\n\nfunction parse(expr,method) {\n\tmethod = method || \"eval\";\n\tvar m = expr.match(RX);\n\tif(m) {\n\t\tm.forEach(token=>{\n\t\t\tvar key = token.replace(/[\\$\\{\\}]/g,\"\").trim();\n\t\t\texpr = expr.replace(token,\"__val(entry,'\"+key+\"')\");\n\t\t});\n\t}\n\tvar fn = new Function(\"entry\",\"__val\",\"return (\"+expr+\")\");\n\n\treturn function(entry) {\n\t\treturn fn(entry,EVALS[method]);\n\t}\n}\n\nfunction tokens(expr,method) {\n\tmethod = method || \"eval\";\n\tif(expr==\"${JSON}\") return function(entry) {return JSON.stringify(entry,null,2)};\n\n\tvar list = [];\n\tvar m = expr.match(RX)||[];\n\tm.forEach(token=>{\n\t\tvar idx = expr.indexOf(token);\n\t\tvar t = expr.substring(0,idx);\n\t\texpr = expr.substring(idx+token.length);\n\t\tlist.push(t);\n\t\tlist.push(function(entry){\n\t\t\treturn EVALS[method](entry,token.replace(/\\$|\\{|\\}/g,\"\"))\n\t\t});\n\t});\n\tlist.push(expr);\n\n\treturn function(entry) {\n\t\treturn list.map(t=>typeof(t)==\"string\"? t : t(entry)).join(\"\");\n\t}\n}\n\nfunction jsontokens(json) {\n\tlet ops = [];\n\n\tfunction walk(json,path) {\n\t\tif(!json) return;\n\t\tObject.keys(json).forEach(k=>{\n\t\t\tlet newpath = `${path}${path?'.':''}${k}`;\n\t\t\tlet t = json[k];\n\t\t\tif(typeof(t)==\"string\") {\n\t\t\t\tops.push({path:newpath,fn:tokens(t)});\n\t\t\t}\n\t\t\telse {\n\t\t\t\twalk(t,newpath);\n\t\t\t}\n\t\t});\n\t}\n\n\twalk(json,\"\");\n\n\treturn function(entry) {\n\t\tlet map = ops.map(op=>{\n\t\t\treturn {path:op.path, value:op.fn(entry)}\n\t\t}).reduce((map,op)=>{\n\t\t\tmap[op.path] = op.value;\n\t\t\treturn map;\n\t\t},{});\n\n\t\treturn EVALS.valwalk(extend(true,{},json),map,\"\");\n\t}\n}\n\nmodule.exports = {\n\tfn : parse,\n\teval : parse,\n\texpr(input){\n\t\tif(typeof(input)==\"object\")\n\t\t\treturn jsontokens(input);\n\t\telse\n\t\t\treturn tokens(input);\n\t}\n}\n\n},{\"extend\":4}],4:[function(require,module,exports){\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n},{}]},{},[1]);\n"]}