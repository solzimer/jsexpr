/*! jsexpr 2018-06-12 */

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function u(i,c,f){function a(n,t){if(!c[n]){if(!i[n]){var r="function"==typeof require&&require;if(!t&&r)return r(n,!0);if(l)return l(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}var o=c[n]={exports:{}};i[n][0].call(o.exports,function(t){return a(i[n][1][t]||t)},o,o.exports,u,i,c,f)}return c[n].exports}for(var l="function"==typeof require&&require,t=0;t<f.length;t++)a(f[t]);return a}({1:[function(n,r,e){(function(){this.jsexpr;var t=n("./index.js");void 0!==e&&(void 0!==r&&r.exports&&(e=r.exports=t),e.jsexpr=t),"undefined"!=typeof window&&(window.jsexpr=t)}).call(this)},{"./index.js":2}],2:[function(t,n,r){var e=t("./lib/expression");n.exports=e},{"./lib/expression":3}],3:[function(require,module,exports){var extend=require("extend"),RX=/\$\{[^\}]+\}/g,RX_RPL_PARSE=/[\$\{\}]/g,RX_RPL_TOKEN=/\$|\{|\}/g,CACHE={};function cacheeval(obj,key){if(!CACHE[key]){var fn=eval("(function(){\n\t\t\treturn function() {\n\t\t\t\ttry {\n\t\t\t\t\treturn this."+key+";\n\t\t\t\t}catch(err) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t})()");CACHE[key]=fn}return CACHE[key].call(obj)}function fneval(obj,key){try{return eval("this."+key)}catch(t){return}}var EVALS={eval:function(t,n){var r=fneval.call(t,t,n);return void 0===r?"":r},iteval:function(n,t){t.split(".").forEach(function(t){null!=n&&null!=n&&(n=n[t])});var r=n||void 0;return void 0===r?"":r},ceval:function(t,n){var r=cacheeval(t,n);return void 0===r?"":r},valwalk:function(r,e,o){return r&&Object.keys(r).forEach(function(t){var n=o+(o?".":"")+t;e[n]&&(r[t]=e[n]),"object"==_typeof(r[t])&&EVALS.valwalk(r[t],e,n)}),r}};function parse(r,n){n=n||"ceval";var t=r.match(RX);t&&t.forEach(function(t){var n=t.replace(RX_RPL_PARSE,"").trim();r=r.replace(t,"__val(entry,'"+n+"')")});var e=new Function("entry","__val","return ("+r+")");return function(t){return e(t,EVALS[n])}}function tokens(e,o){if(o=o||"ceval","${JSON}"==e)return function(t){return JSON.stringify(t,null,2)};var u=[];return(e.match(RX)||[]).forEach(function(n){var t=e.indexOf(n),r=e.substring(0,t);e=e.substring(t+n.length),u.push(r),u.push(function(t){return EVALS[o](t,n.replace(RX_RPL_TOKEN,""))})}),u.push(e),function(n){return u.map(function(t){return"string"==typeof t?t:t(n)}).join("")}}function jsontokens(r){var i=[];return function e(o,u){o&&Object.keys(o).forEach(function(t){var n=u+(u?".":"")+t,r=o[t];"string"==typeof r?i.push({path:n,fn:tokens(r)}):e(r,n)})}(r,""),function(n){var t=i.map(function(t){return{path:t.path,value:t.fn(n)}}).reduce(function(t,n){return t[n.path]=n.value,t},{});return EVALS.valwalk(extend(!0,{},r),t,"")}}module.exports={fn:parse,eval:parse,expr:function(t){return"object"==(void 0===t?"undefined":_typeof(t))?jsontokens(t):tokens(t)}}},{extend:4}],4:[function(t,n,r){var o=Object.prototype.hasOwnProperty,u=Object.prototype.toString,p=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===u.call(t)},s=function(t){if(!t||"[object Object]"!==u.call(t))return!1;var n,r=o.call(t,"constructor"),e=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!e)return!1;for(n in t);return void 0===n||o.call(t,n)};n.exports=function t(){var n,r,e,o,u,i,c=arguments[0],f=1,a=arguments.length,l=!1;for("boolean"==typeof c&&(l=c,c=arguments[1]||{},f=2),(null==c||"object"!==(void 0===c?"undefined":_typeof(c))&&"function"!=typeof c)&&(c={});f<a;++f)if(null!=(n=arguments[f]))for(r in n)e=c[r],c!==(o=n[r])&&(l&&o&&(s(o)||(u=p(o)))?(u?(u=!1,i=e&&p(e)?e:[]):i=e&&s(e)?e:{},c[r]=t(l,i,o)):void 0!==o&&(c[r]=o));return c}},{}]},{},[1]);